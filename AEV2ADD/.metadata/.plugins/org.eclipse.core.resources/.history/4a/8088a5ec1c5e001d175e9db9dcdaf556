package acts;

public class Controlador {

	private Vista vista;
	private model model;
	private String ruta;

	public Controlador(Vista vista, model mode) {
		this.vista = vista;
		this.model = mode;
		initEventHandler();
	}
	
	
	
	private void initEventHandler() {

		ActionListener anyadirActionListener = new ActionListener() {

			public void actionPerformed(ActionEvent e) {

				try {
					// Finestra per a triar el fitxer
					JFileChooser j = new JFileChooser();
					j.showOpenDialog(j);

					String nombre = j.getSelectedFile().getName();
					rutaFicheroString = nombre;
					FileReader fReader = new FileReader(nombre);
					File fichero = new File(nombre);
					ruta = fichero.getPath();
					// Mostrem les dades del fitxer
					vista.getDatos().append(Model.mostrarDatos(nombre));
					// Mostrem el contingut del fitxer
					vista.getContenidoFichero().setText(Model.mostrarContenidoPrincipal(ruta));

				} catch (FileNotFoundException e1) {
					// TODO Auto-generated catch block
					e1.printStackTrace();
				}
			}
		};
		vista.getElegirFichero().addActionListener(anyadirActionListener);
		
	}
	
	
	
	
	
	
}
